<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Basics · MetaGraphsNext.jl</title><meta name="title" content="Basics · MetaGraphsNext.jl"/><meta property="og:title" content="Basics · MetaGraphsNext.jl"/><meta property="twitter:title" content="Basics · MetaGraphsNext.jl"/><meta name="description" content="Documentation for MetaGraphsNext.jl."/><meta property="og:description" content="Documentation for MetaGraphsNext.jl."/><meta property="twitter:description" content="Documentation for MetaGraphsNext.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">MetaGraphsNext.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Tutorial</span><ul><li class="is-active"><a class="tocitem" href>Basics</a><ul class="internal"><li><a class="tocitem" href="#Creating-an-empty-MetaGraph"><span>Creating an empty <code>MetaGraph</code></span></a></li><li><a class="tocitem" href="#Modifying-the-graph"><span>Modifying the graph</span></a></li><li><a class="tocitem" href="#Creating-a-non-empty-MetaGraph"><span>Creating a non-empty <code>MetaGraph</code></span></a></li><li><a class="tocitem" href="#Accessing-graph-properties"><span>Accessing graph properties</span></a></li><li><a class="tocitem" href="#Using-vertex-codes"><span>Using vertex codes</span></a></li><li><a class="tocitem" href="#Listing-labels"><span>Listing labels</span></a></li><li><a class="tocitem" href="#Handling-weights"><span>Handling weights</span></a></li></ul></li><li><a class="tocitem" href="../2_graphs/">Graphs.jl  interface</a></li><li><a class="tocitem" href="../3_files/">File storage</a></li><li><a class="tocitem" href="../4_type_stability/">Type stability</a></li><li><a class="tocitem" href="../5_benchmark/">Benchmark</a></li></ul></li><li><a class="tocitem" href="../../api/">API reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Tutorial</a></li><li class="is-active"><a href>Basics</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Basics</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaGraphs/MetaGraphsNext.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaGraphs/MetaGraphsNext.jl/blob/master/test/tutorial/1_basics.jl" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Basics"><a class="docs-heading-anchor" href="#Basics">Basics</a><a id="Basics-1"></a><a class="docs-heading-anchor-permalink" href="#Basics" title="Permalink"></a></h1><pre><code class="language-julia hljs">using Graphs
using MetaGraphsNext</code></pre><h2 id="Creating-an-empty-MetaGraph"><a class="docs-heading-anchor" href="#Creating-an-empty-MetaGraph">Creating an empty <code>MetaGraph</code></a><a id="Creating-an-empty-MetaGraph-1"></a><a class="docs-heading-anchor-permalink" href="#Creating-an-empty-MetaGraph" title="Permalink"></a></h2><p>We provide a convenience constructor for creating empty graphs, which looks as follows:</p><pre><code class="language-julia hljs">colors = MetaGraph(
    Graph();  # underlying graph structure
    label_type=Symbol,  # color name
    vertex_data_type=NTuple{3,Int},  # RGB code
    edge_data_type=Symbol,  # result of the addition between two colors
    graph_data=&quot;additive colors&quot;,  # tag for the whole graph
)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Meta graph based on a SimpleGraph{Int64} with vertex labels of type Symbol, vertex metadata of type Tuple{Int64, Int64, Int64}, edge metadata of type Symbol, graph metadata given by &quot;additive colors&quot;, and default weight 1.0</code></pre><p>The <code>label_type</code> argument defines how vertices will be referred to. It can be anything you want, provided that pairs of labels can be compared with <code>&lt;</code>. Integer types are generally discouraged, to avoid confusion with the vertex codes used by Graphs.jl. The <code>vertex_data_type</code> and <code>edge_data_type</code> type determine what kind of data will be associated with each vertex and edge. Finally, <code>graph_data</code> can contain an arbitrary object associated with the graph as a whole.</p><p>If you don&#39;t care about labels at all, using the integer vertex codes as labels may be reasonable. Just keep in mind that labels do not change with vertex deletion, whereas vertex codes get decreased, so the coherence will be broken.</p><h2 id="Modifying-the-graph"><a class="docs-heading-anchor" href="#Modifying-the-graph">Modifying the graph</a><a id="Modifying-the-graph-1"></a><a class="docs-heading-anchor-permalink" href="#Modifying-the-graph" title="Permalink"></a></h2><p>Modifications of graph elements and the associated metadata can always be done using <code>setindex!</code> (as in a dictionary) with the relevant labels.</p><h3 id="Vertices"><a class="docs-heading-anchor" href="#Vertices">Vertices</a><a id="Vertices-1"></a><a class="docs-heading-anchor-permalink" href="#Vertices" title="Permalink"></a></h3><p>Use <code>setindex!</code> with one key to add a new vertex with the given label and metadata. If a vertex with the given label does not exist, it will be created automatically. Otherwise, the function will simply modify the metadata for the existing vertex.</p><pre><code class="language-julia hljs">colors[:red] = (255, 0, 0);
colors[:green] = (0, 255, 0);
colors[:blue] = (0, 0, 255);</code></pre><p>Note that you cannot use labels or metadata that is incoherent with the types you specified at construction.</p><h3 id="Edges"><a class="docs-heading-anchor" href="#Edges">Edges</a><a id="Edges-1"></a><a class="docs-heading-anchor-permalink" href="#Edges" title="Permalink"></a></h3><p>Use <code>setindex!</code> with two keys to add a new edge between the given labels and containing the given metadata. Beware that this time, an edge will only be added when both node labels already exist in the graph.</p><pre><code class="language-julia hljs">colors[:red, :green] = :yellow;
colors[:red, :blue] = :magenta;
colors[:green, :blue] = :cyan;</code></pre><h2 id="Creating-a-non-empty-MetaGraph"><a class="docs-heading-anchor" href="#Creating-a-non-empty-MetaGraph">Creating a non-empty <code>MetaGraph</code></a><a id="Creating-a-non-empty-MetaGraph-1"></a><a class="docs-heading-anchor-permalink" href="#Creating-a-non-empty-MetaGraph" title="Permalink"></a></h2><p>There is an alternative constructor which allows you to build and fill the graph in one fell swoop. Here&#39;s how it works:</p><pre><code class="language-julia hljs">graph = Graph(Edge.([(1, 2), (1, 3), (2, 3)]))
vertices_description = [:red =&gt; (255, 0, 0), :green =&gt; (0, 255, 0), :blue =&gt; (0, 0, 255)]
edges_description = [
    (:red, :green) =&gt; :yellow, (:red, :blue) =&gt; :magenta, (:green, :blue) =&gt; :cyan
]

colors2 = MetaGraph(graph, vertices_description, edges_description, &quot;additive colors&quot;)
colors2 == colors</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">true</code></pre><h2 id="Accessing-graph-properties"><a class="docs-heading-anchor" href="#Accessing-graph-properties">Accessing graph properties</a><a id="Accessing-graph-properties-1"></a><a class="docs-heading-anchor-permalink" href="#Accessing-graph-properties" title="Permalink"></a></h2><p>To retrieve graph properties, we still follow a dictionary-like interface based on labels.</p><h3 id="Existence"><a class="docs-heading-anchor" href="#Existence">Existence</a><a id="Existence-1"></a><a class="docs-heading-anchor-permalink" href="#Existence" title="Permalink"></a></h3><p>To check the presence of a vertex or edge, use <code>haskey</code>:</p><pre><code class="language-julia hljs">haskey(colors, :red)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">true</code></pre><pre><code class="language-julia hljs">haskey(colors, :black)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">false</code></pre><pre><code class="language-julia hljs">haskey(colors, :red, :green) &amp;&amp; haskey(colors, :green, :red)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">true</code></pre><pre><code class="language-julia hljs">!haskey(colors, :red, :black)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">true</code></pre><h3 id="Metadata"><a class="docs-heading-anchor" href="#Metadata">Metadata</a><a id="Metadata-1"></a><a class="docs-heading-anchor-permalink" href="#Metadata" title="Permalink"></a></h3><p>All kinds of metadata can be accessed with <code>getindex</code>:</p><pre><code class="language-julia hljs">colors[]</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">&quot;additive colors&quot;</code></pre><pre><code class="language-julia hljs">colors[:blue]</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">(0, 0, 255)</code></pre><pre><code class="language-julia hljs">colors[:green, :blue]</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">:cyan</code></pre><h2 id="Using-vertex-codes"><a class="docs-heading-anchor" href="#Using-vertex-codes">Using vertex codes</a><a id="Using-vertex-codes-1"></a><a class="docs-heading-anchor-permalink" href="#Using-vertex-codes" title="Permalink"></a></h2><p>In the absence of removal, vertex codes correspond to order of insertion in the underlying graph. They are the ones used by most algorithms in the Graphs.jl ecosystem.</p><pre><code class="language-julia hljs">code_for(colors, :red)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">1</code></pre><pre><code class="language-julia hljs">code_for(colors, :blue)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">3</code></pre><p>You can retrieve the associated labels as follows:</p><pre><code class="language-julia hljs">label_for(colors, 1)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">:red</code></pre><pre><code class="language-julia hljs">label_for(colors, 3)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">:blue</code></pre><h2 id="Listing-labels"><a class="docs-heading-anchor" href="#Listing-labels">Listing labels</a><a id="Listing-labels-1"></a><a class="docs-heading-anchor-permalink" href="#Listing-labels" title="Permalink"></a></h2><p>The functions <code>labels</code>, <code>edge_labels</code>, <code>(in/out)neighbor_labels</code> iterate through labels the same way that <code>vertices</code>, <code>edges</code> and <code>(in/out)neighbors</code> iterate through codes.</p><pre><code class="language-julia hljs">collect(labels(colors))</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">3-element Vector{Symbol}:
 :red
 :green
 :blue</code></pre><pre><code class="language-julia hljs">collect(edge_labels(colors))</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">3-element Vector{Tuple{Symbol, Symbol}}:
 (:red, :green)
 (:red, :blue)
 (:green, :blue)</code></pre><pre><code class="language-julia hljs">collect(neighbor_labels(colors, :red))</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">2-element Vector{Symbol}:
 :green
 :blue</code></pre><h2 id="Handling-weights"><a class="docs-heading-anchor" href="#Handling-weights">Handling weights</a><a id="Handling-weights-1"></a><a class="docs-heading-anchor-permalink" href="#Handling-weights" title="Permalink"></a></h2><p>You can use the <code>weight_function</code> field to specify a function which will transform edge metadata into a weight. This weight must always have the same type as the <code>default_weight</code>, which is the value returned in case an edge does not exist.</p><pre><code class="language-julia hljs">weighted = MetaGraph(
    Graph();
    label_type=Symbol,
    edge_data_type=Float64,
    weight_function=ed -&gt; ed^2,
    default_weight=Inf,
);

weighted[:alice] = nothing;
weighted[:bob] = nothing;
weighted[:charlie] = nothing;

weighted[:alice, :bob] = 2.0;
weighted[:bob, :charlie] = 3.0;</code></pre><pre><code class="language-julia hljs">weight_matrix = Graphs.weights(weighted)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">MetaWeights of size (3, 3)</code></pre><pre><code class="language-julia hljs">default_weight(weighted)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Inf</code></pre><pre><code class="language-julia hljs">size(weight_matrix)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">(3, 3)</code></pre><pre><code class="language-julia hljs">weight_matrix[1, 2]</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">4.0</code></pre><pre><code class="language-julia hljs">weight_matrix[2, 3]</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">9.0</code></pre><pre><code class="language-julia hljs">weight_matrix[1, 3]</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Inf</code></pre><pre><code class="language-julia hljs">wf = get_weight_function(weighted)
wf(4.0)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">16.0</code></pre><p>You can then use all functions from Graphs.jl that require weighted graphs (see the rest of the tutorial).</p><hr/><p><em>This page was generated using <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../">« Home</a><a class="docs-footer-nextpage" href="../2_graphs/">Graphs.jl  interface »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Thursday 28 August 2025 12:51">Thursday 28 August 2025</span>. Using Julia version 1.11.6.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
